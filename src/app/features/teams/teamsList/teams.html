<div class="container">
  @if (isLoading()) {
    <div class="loader-container">
      <div class="spinner"></div>
      <p>注 砖转, 专 专...</p>
    </div>
  }
  @else {
    <h1>爪转 砖</h1>
    <div class="container">
      <button (click)="openCreateTeamModal()">+ 住祝 爪转 砖</button>

      <div class="grid">
      </div>

      @if (showAddTeam()) {
        <app-new-team (close)="closeTeamModal()"></app-new-team>
      }
    </div>
    
    @if (showAddMember()) {
      <app-new-member [teamId]="selectedTeamId()" (close)="closeMemberModal()"></app-new-member>
    }

    <div class="teams-grid">
      @if (this.team$| async; as teams) {
        
        @for (team of teams; track team.id) {
          <div class="team-card">
            <div class="card-content">
              <h3>{{ team.name }}</h3>
              <p><i class="members-icon"></i> {{ team.members_count }} 专</p>
              <h2>{{team.created_at| date:'shortDate'}}</h2>
            </div>
            <div class="card-actions">
              <button [routerLink]="['/dashboard', 'team', team.id, 'projects']" class="btn-view">
                爪驻 驻专拽
              </button>
              <button (click)="openAddMemberModal(team.id)" class="btn-view secondary">
                住驻转 专 爪转
              </button>
            </div>
          </div>
        } @empty {
          <div class="empty-state">
            <p>注   爪转.   爪专 !</p>
          </div>
        }

      } @else {
        <div class="loader">注 爪转...</div>
      }
    </div>
  }
</div>